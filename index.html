<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pour Lisa ‚ù§Ô∏è</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:Segoe UI, sans-serif;
  overflow:hidden;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#0f2027;
  color:white;
}
canvas{
  position:fixed;
  inset:0;
  z-index:0;
}
#intro{
  position:fixed;inset:0;background:#111;display:flex;justify-content:center;align-items:center;z-index:10;cursor:pointer;text-align:center;
}
#intro span{font-size:22px;opacity:0.85;}
.card{
  position:relative;z-index:2;background:rgba(255,255,255,0.95);color:#333;padding:35px;border-radius:25px;text-align:center;width:90%;max-width:650px;box-shadow:0 25px 70px rgba(0,0,0,0.3);display:none;
  animation:fadeIn 1s ease;
}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
h1{font-size:clamp(24px,5vw,40px);margin-bottom:30px;}
.arena{position:relative;height:240px;}
button{padding:14px 28px;font-size:18px;border-radius:999px;border:none;cursor:pointer;position:absolute;transition:0.25s;}
#yes{background:#ff4d6d;color:white;left:30%;top:50%;transform:translate(-50%,-50%);animation:pulse 2s infinite;}
#no{background:white;border:2px solid #ddd;left:70%;top:50%;transform:translate(-50%,-50%);}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(255,77,109,0.6)}70%{box-shadow:0 0 0 25px rgba(255,77,109,0)}100%{box-shadow:0 0 0 0 rgba(255,77,109,0)}}
.gallery{margin-top:20px;display:flex;gap:10px;flex-wrap:wrap;justify-content:center;}
.gallery img{width:110px;height:110px;object-fit:cover;border-radius:15px;}
.fade-out{animation:fadeOut 1s forwards;}
@keyframes fadeOut{to{opacity:0;transform:scale(1.1)}}
.timeline{margin-top:20px;font-size:14px;color:#666;text-align:center;}
</style>
</head>
<body>

<div id="intro"><span>Clique pour ouvrir une lettre‚Ä¶</span></div>

<canvas id="stars"></canvas>

<div class="card" id="card">
<h1 id="question">Lisa, veux-tu √™tre ma Valentine ?</h1>
<div class="arena" id="arena">
<button id="yes">Oui</button>
<button id="no">Non</button>
</div>
<div class="timeline">Premier regard ‚Üí Premier sourire ‚Üí Aujourd‚Äôhui ‚ù§Ô∏è</div>
<div class="gallery">
<img src="https://picsum.photos/200?1">
<img src="https://picsum.photos/200?2">
<img src="https://picsum.photos/200?3">
</div>
</div>

<audio id="music" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">
</audio>

<script>
/* INTRO */
document.getElementById("intro").onclick=()=>{
  document.getElementById("intro").style.display="none";
  document.getElementById("card").style.display="block";
  document.getElementById("music").play();
}

/* CIEL √âTOIL√â + √âTOILES FILANTES */
const canvas=document.getElementById("stars");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth; canvas.height=innerHeight;
let stars=[]; for(let i=0;i<180;i++){stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,size:Math.random()*2,vy:Math.random()*0.3})}
function drawStars(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="white";
  stars.forEach(s=>{
    s.y+=s.vy; if(s.y>canvas.height)s.y=0;s.x+=Math.random()*0.2-0.1;
    ctx.beginPath(); ctx.arc(s.x,s.y,s.size,0,Math.PI*2); ctx.fill();
  });
  requestAnimationFrame(drawStars);
}
drawStars();
window.onresize=()=>{canvas.width=innerWidth; canvas.height=innerHeight;}

/* PLUIE DE COEURS */
function heart(){
  const h=document.createElement("div"); h.textContent="‚ù§Ô∏è";
  h.style.position="fixed"; h.style.left=Math.random()*100+"vw"; h.style.top="-20px";
  h.style.fontSize=(18+Math.random()*20)+"px"; h.style.transition="transform 6s linear";
  document.body.appendChild(h);
  setTimeout(()=>h.style.transform="translateY(110vh)",50);
  setTimeout(()=>h.remove(),6000);
}
setInterval(heart,1000);

/* BOUTON NON ULTRA INTELLIGENT */
const no=document.getElementById("no"); const arena=document.getElementById("arena");
let difficulty=140;
const phrases=["Tu es s√ªre ?","Vraiment ?","R√©fl√©chis encore üòå","Ce bouton ne marche pas üòè","Impossible üòé"];
arena.addEventListener("mousemove",e=>{
  const rect=no.getBoundingClientRect();
  const dx=e.clientX-(rect.left+rect.width/2);
  const dy=e.clientY-(rect.top+rect.height/2);
  const dist=Math.sqrt(dx*dx+dy*dy);
  if(dist<difficulty){
    const area=arena.getBoundingClientRect();
    no.style.left=Math.random()*area.width+"px";
    no.style.top=Math.random()*area.height+"px";
    no.textContent=phrases[Math.floor(Math.random()*phrases.length)];
    difficulty+=5;
  }
});

/* FEU D'ARTIFICE */
function firework(){
  for(let i=0;i<60;i++){
    const spark=document.createElement("div");
    spark.style.position="fixed"; spark.style.width="6px"; spark.style.height="6px"; spark.style.borderRadius="50%";
    spark.style.background=["#ff4d6d","#ffd166","#ffffff"][Math.floor(Math.random()*3)];
    spark.style.left=innerWidth/2+"px"; spark.style.top=innerHeight/2+"px";
    const angle=Math.random()*2*Math.PI; const dist=200+Math.random()*250;
    spark.animate([{transform:"translate(0,0)",opacity:1},{transform:`translate(${Math.cos(angle)*dist}px,${Math.sin(angle)*dist}px)`,opacity:0}],{duration:1500});
    document.body.appendChild(spark); setTimeout(()=>spark.remove(),1500);
  }
}

/* CLICK OUI */
document.getElementById("yes").onclick=()=>{
  for(let i=0;i<30;i++){setTimeout(heart,i*120);}
  firework();
  document.getElementById("card").classList.add("fade-out");
  setTimeout(()=>{
    document.body.innerHTML=`
    <div style="display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;text-align:center;background:linear-gradient(135deg,#ffe6ef,#ffffff);padding:20px;">
      <h1 style="font-size:clamp(28px,6vw,48px);margin-bottom:20px;">Yes, meilleure d√©cision de ta vie üíõ</h1>
      <img src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif"
      style="width:90%;max-width:400px;border-radius:20px;margin:20px 0;">
      <div style="font-size:clamp(32px,7vw,56px);color:#ff4d6d;font-weight:bold;">Je t'aime Lisa ‚ù§Ô∏è</div>
    </div>
    `;
  },900);
};

/* EASTER EGG SECRET */
let secret=0; document.addEventListener("keydown",e=>{
  if(e.key==="l") secret++; if(secret>5){alert("üíå Easter egg activ√© ‚ù§Ô∏è"); secret=0;}
});
</script>

</body>
</html>
